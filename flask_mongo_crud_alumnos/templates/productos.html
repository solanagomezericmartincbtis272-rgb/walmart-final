<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>{{ producto.name }}</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" rel="stylesheet">

  <style>
    .thumb-img {
      width: 100%;
      cursor: pointer;
      border-radius: 10px;
      border: 2px solid transparent;
      transition: 0.2s;
    }
    .thumb-img:hover {
      border-color: #0071ce;
      transform: scale(1.03);
    }
  </style>

  <script>
    function cambiarImagen(src) {
      document.getElementById("img-principal").src = src;
    }
  </script>
</head>

<body class="bg-light">

<div class="container mt-5">
  <div class="row">

    <!-- Imagen principal -->
    <div class="col-md-6">
      <img id="img-principal" src="{{ producto.img }}" class="img-fluid rounded w-100">

      <!-- Miniaturas -->
      <div class="row mt-3">
        {% for imagen in producto.images %}
        <div class="col-4">
          <img onclick="cambiarImagen('{{ imagen }}')" src="{{ imagen }}" class="thumb-img">
        </div>
        {% endfor %}
      </div>
    </div>

    <!-- InformaciÃ³n -->
    <div class="col-md-6">
      <h2>{{ producto.name }}</h2>

      <!-- Estrellas -->
      <div class="text-warning fs-4">
        {% for i in range(1, 5+1) %}
          {% if producto.rating >= i %}
            <i class="bi bi-star-fill"></i>
          {% elif producto.rating >= i - 0.5 %}
            <i class="bi bi-star-half"></i>
          {% else %}
            <i class="bi bi-star"></i>
          {% endif %}
        {% endfor %}
        <span class="text-dark fs-6">({{ producto.rating }})</span>
      </div>

      <h3 class="text-primary mt-2">${{ producto.price }}.00</h3>
      <p class="text-decoration-line-through text-muted">${{ producto.oldPrice }}.00</p>
      <p>Ahorro: <b>${{ producto.oldPrice - producto.price }}.00</b></p>

      <p class="mt-3">{{ producto.description }}</p>

      <form action="{{ url_for('agregar_carrito', producto_id=producto['_id']) }}" method="POST">
        <button class="btn btn-primary btn-lg mt-3">Agregar al carrito</button>
      </form>
    </div>

  </div>
</div>

</body>
</html>


